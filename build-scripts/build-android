ANDROID_PROJECT_DIR="../android" #Android project directory
OUTPUT_DIR="../output" #output folder for apk relative to ANDROID_PROJECT_DIR

#Create variables
OUTPUT_APK_PATH="$OUTPUT_DIR/android.apk"

#Move to android folder and build the project
cd $ANDROID_PROJECT_DIR
./gradlew assembleDebug

#Remove any previously generated APK
if [ -f $OUTPUT_APK_PATH ]; then
    rm $OUTPUT_APK_PATH
fi

#Copy produced apk to output directory
cp app/build/outputs/apk/debug/app-debug.apk $OUTPUT_APK_PATH

if [ -f $OUTPUT_APK_PATH ]; then
    echo "Android build SUCCESSFUL. Apk path: $OUTPUT_APK_PATH"
else
    echo "Android build FAILED. APK was not generated!"
fi